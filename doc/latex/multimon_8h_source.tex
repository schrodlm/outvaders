\hypertarget{multimon_8h_source}{}\doxysection{multimon.\+h}
\label{multimon_8h_source}\index{src/lib/dx/Include/multimon.h@{src/lib/dx/Include/multimon.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//=============================================================================}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{// multimon.h -\/-\/ Stub module that fakes multiple monitor apis on Win32 OSes}}
\DoxyCodeLine{4 \textcolor{comment}{//               without them.}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// By using this header your code will get back default values from}}
\DoxyCodeLine{7 \textcolor{comment}{// GetSystemMetrics() for new metrics, and the new multimonitor APIs}}
\DoxyCodeLine{8 \textcolor{comment}{// will act like only one display is present on a Win32 OS without}}
\DoxyCodeLine{9 \textcolor{comment}{// multimonitor APIs.}}
\DoxyCodeLine{10 \textcolor{comment}{//}}
\DoxyCodeLine{11 \textcolor{comment}{// Exactly one source must include this with COMPILE\_MULTIMON\_STUBS defined.}}
\DoxyCodeLine{12 \textcolor{comment}{//}}
\DoxyCodeLine{13 \textcolor{comment}{// Copyright (c) Microsoft Corporation. All rights reserved. }}
\DoxyCodeLine{14 \textcolor{comment}{//}}
\DoxyCodeLine{15 \textcolor{comment}{//=============================================================================}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{18 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{            \textcolor{comment}{// Assume C declarations for C++}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_\_cplusplus}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{comment}{//}}
\DoxyCodeLine{22 \textcolor{comment}{// If we are building with Win95/NT4 headers, we need to declare}}
\DoxyCodeLine{23 \textcolor{comment}{// the multimonitor-\/related metrics and APIs ourselves.}}
\DoxyCodeLine{24 \textcolor{comment}{//}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#ifndef SM\_CMONITORS}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define SM\_XVIRTUALSCREEN       76}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define SM\_YVIRTUALSCREEN       77}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#define SM\_CXVIRTUALSCREEN      78}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#define SM\_CYVIRTUALSCREEN      79}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#define SM\_CMONITORS            80}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#define SM\_SAMEDISPLAYFORMAT    81}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{comment}{// HMONITOR is already declared if WINVER >= 0x0500 in windef.h}}
\DoxyCodeLine{35 \textcolor{comment}{// This is for components built with an older version number.}}
\DoxyCodeLine{36 \textcolor{comment}{//}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#if !defined(HMONITOR\_DECLARED) \&\& (WINVER < 0x0500)}}
\DoxyCodeLine{38 DECLARE\_HANDLE(HMONITOR);}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define HMONITOR\_DECLARED}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{41 }
\DoxyCodeLine{42 \textcolor{preprocessor}{\#define MONITOR\_DEFAULTTONULL       0x00000000}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define MONITOR\_DEFAULTTOPRIMARY    0x00000001}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define MONITOR\_DEFAULTTONEAREST    0x00000002}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{preprocessor}{\#define MONITORINFOF\_PRIMARY        0x00000001}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{tagMONITORINFO}}}
\DoxyCodeLine{49 \{}
\DoxyCodeLine{50     DWORD   cbSize;}
\DoxyCodeLine{51     RECT    rcMonitor;}
\DoxyCodeLine{52     RECT    rcWork;}
\DoxyCodeLine{53     DWORD   dwFlags;}
\DoxyCodeLine{54 \} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{MONITORINFO}}, *\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{LPMONITORINFO}};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{preprocessor}{\#ifndef CCHDEVICENAME}}
\DoxyCodeLine{57 \textcolor{preprocessor}{\#define CCHDEVICENAME 32}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{61 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{tagMONITORINFOEXA}} : \textcolor{keyword}{public} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{tagMONITORINFO}}}
\DoxyCodeLine{62 \{}
\DoxyCodeLine{63     CHAR        szDevice[CCHDEVICENAME];}
\DoxyCodeLine{64 \} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEXA}}, *\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEXA}};}
\DoxyCodeLine{65 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{tagMONITORINFOEXW}} : \textcolor{keyword}{public} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{tagMONITORINFO}}}
\DoxyCodeLine{66 \{}
\DoxyCodeLine{67     WCHAR       szDevice[CCHDEVICENAME];}
\DoxyCodeLine{68 \} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{MONITORINFOEXW}}, *\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{LPMONITORINFOEXW}};}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#ifdef UNICODE}}
\DoxyCodeLine{70 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{MONITORINFOEXW}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}};}
\DoxyCodeLine{71 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{LPMONITORINFOEXW}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEX}};}
\DoxyCodeLine{72 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{73 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEXA}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}};}
\DoxyCodeLine{74 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEXA}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEX}};}
\DoxyCodeLine{75 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{76 \textcolor{preprocessor}{\#else }\textcolor{comment}{// ndef \_\_cplusplus}}
\DoxyCodeLine{77 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{tagMONITORINFOEXA}}}
\DoxyCodeLine{78 \{}
\DoxyCodeLine{79     \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{MONITORINFO}};}
\DoxyCodeLine{80     CHAR        szDevice[CCHDEVICENAME];}
\DoxyCodeLine{81 \} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEXA}}, *\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEXA}};}
\DoxyCodeLine{82 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{tagMONITORINFOEXW}}}
\DoxyCodeLine{83 \{}
\DoxyCodeLine{84     \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{MONITORINFO}};}
\DoxyCodeLine{85     WCHAR       szDevice[CCHDEVICENAME];}
\DoxyCodeLine{86 \} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{MONITORINFOEXW}}, *\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{LPMONITORINFOEXW}};}
\DoxyCodeLine{87 \textcolor{preprocessor}{\#ifdef UNICODE}}
\DoxyCodeLine{88 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{MONITORINFOEXW}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}};}
\DoxyCodeLine{89 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_w}{LPMONITORINFOEXW}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEX}};}
\DoxyCodeLine{90 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{91 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEXA}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}};}
\DoxyCodeLine{92 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEXA}} \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{LPMONITORINFOEX}};}
\DoxyCodeLine{93 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{94 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{keyword}{typedef} BOOL (CALLBACK* MONITORENUMPROC)(HMONITOR, HDC, LPRECT, LPARAM);}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{preprocessor}{\#ifndef DISPLAY\_DEVICE\_ATTACHED\_TO\_DESKTOP}}
\DoxyCodeLine{99 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{\_DISPLAY\_DEVICEA}} \{}
\DoxyCodeLine{100     DWORD  cb;}
\DoxyCodeLine{101     CHAR   DeviceName[32];}
\DoxyCodeLine{102     CHAR   DeviceString[128];}
\DoxyCodeLine{103     DWORD  StateFlags;}
\DoxyCodeLine{104     CHAR   DeviceID[128];}
\DoxyCodeLine{105     CHAR   DeviceKey[128];}
\DoxyCodeLine{106 \} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{DISPLAY\_DEVICEA}}, *\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICEA}}, *\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{LPDISPLAY\_DEVICEA}};}
\DoxyCodeLine{107 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{\_DISPLAY\_DEVICEW}} \{}
\DoxyCodeLine{108     DWORD  cb;}
\DoxyCodeLine{109     WCHAR  DeviceName[32];}
\DoxyCodeLine{110     WCHAR  DeviceString[128];}
\DoxyCodeLine{111     DWORD  StateFlags;}
\DoxyCodeLine{112     WCHAR  DeviceID[128];}
\DoxyCodeLine{113     WCHAR  DeviceKey[128];}
\DoxyCodeLine{114 \} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{DISPLAY\_DEVICEW}}, *\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{PDISPLAY\_DEVICEW}}, *\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{LPDISPLAY\_DEVICEW}};}
\DoxyCodeLine{115 \textcolor{preprocessor}{\#ifdef UNICODE}}
\DoxyCodeLine{116 \textcolor{keyword}{typedef} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{DISPLAY\_DEVICEW}} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{DISPLAY\_DEVICE}};}
\DoxyCodeLine{117 \textcolor{keyword}{typedef} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{PDISPLAY\_DEVICEW}} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICE}};}
\DoxyCodeLine{118 \textcolor{keyword}{typedef} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_w}{LPDISPLAY\_DEVICEW}} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{LPDISPLAY\_DEVICE}};}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{120 \textcolor{keyword}{typedef} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{DISPLAY\_DEVICEA}} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{DISPLAY\_DEVICE}};}
\DoxyCodeLine{121 \textcolor{keyword}{typedef} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICEA}} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICE}};}
\DoxyCodeLine{122 \textcolor{keyword}{typedef} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{LPDISPLAY\_DEVICEA}} \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{LPDISPLAY\_DEVICE}};}
\DoxyCodeLine{123 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{preprocessor}{\#define DISPLAY\_DEVICE\_ATTACHED\_TO\_DESKTOP 0x00000001}}
\DoxyCodeLine{126 \textcolor{preprocessor}{\#define DISPLAY\_DEVICE\_MULTI\_DRIVER        0x00000002}}
\DoxyCodeLine{127 \textcolor{preprocessor}{\#define DISPLAY\_DEVICE\_PRIMARY\_DEVICE      0x00000004}}
\DoxyCodeLine{128 \textcolor{preprocessor}{\#define DISPLAY\_DEVICE\_MIRRORING\_DRIVER    0x00000008}}
\DoxyCodeLine{129 \textcolor{preprocessor}{\#define DISPLAY\_DEVICE\_VGA\_COMPATIBLE      0x00000010}}
\DoxyCodeLine{130 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{131 }
\DoxyCodeLine{132 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SM\_CMONITORS}}
\DoxyCodeLine{133 }
\DoxyCodeLine{134 \textcolor{preprocessor}{\#undef GetMonitorInfo}}
\DoxyCodeLine{135 \textcolor{preprocessor}{\#undef GetSystemMetrics}}
\DoxyCodeLine{136 \textcolor{preprocessor}{\#undef MonitorFromWindow}}
\DoxyCodeLine{137 \textcolor{preprocessor}{\#undef MonitorFromRect}}
\DoxyCodeLine{138 \textcolor{preprocessor}{\#undef MonitorFromPoint}}
\DoxyCodeLine{139 \textcolor{preprocessor}{\#undef EnumDisplayMonitors}}
\DoxyCodeLine{140 \textcolor{preprocessor}{\#undef EnumDisplayDevices}}
\DoxyCodeLine{141 }
\DoxyCodeLine{142 \textcolor{comment}{//}}
\DoxyCodeLine{143 \textcolor{comment}{// Define COMPILE\_MULTIMON\_STUBS to compile the stubs;}}
\DoxyCodeLine{144 \textcolor{comment}{// otherwise, you get the declarations.}}
\DoxyCodeLine{145 \textcolor{comment}{//}}
\DoxyCodeLine{146 \textcolor{preprocessor}{\#ifdef COMPILE\_MULTIMON\_STUBS}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{149 \textcolor{comment}{//}}
\DoxyCodeLine{150 \textcolor{comment}{// Implement the API stubs.}}
\DoxyCodeLine{151 \textcolor{comment}{//}}
\DoxyCodeLine{152 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{153 }
\DoxyCodeLine{154 \textcolor{preprocessor}{\#ifndef MULTIMON\_FNS\_DEFINED}}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 int      (WINAPI* g\_pfnGetSystemMetrics)(int) = NULL;}
\DoxyCodeLine{157 HMONITOR (WINAPI* g\_pfnMonitorFromWindow)(HWND, DWORD) = NULL;}
\DoxyCodeLine{158 HMONITOR (WINAPI* g\_pfnMonitorFromRect)(LPCRECT, DWORD) = NULL;}
\DoxyCodeLine{159 HMONITOR (WINAPI* g\_pfnMonitorFromPoint)(POINT, DWORD) = NULL;}
\DoxyCodeLine{160 BOOL     (WINAPI* g\_pfnGetMonitorInfo)(HMONITOR, \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{LPMONITORINFO}}) = NULL;}
\DoxyCodeLine{161 BOOL     (WINAPI* g\_pfnEnumDisplayMonitors)(HDC, LPCRECT, MONITORENUMPROC, LPARAM) = NULL;}
\DoxyCodeLine{162 BOOL     (WINAPI* g\_pfnEnumDisplayDevices)(PVOID, DWORD, \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICE}},DWORD) = NULL;}
\DoxyCodeLine{163 BOOL     g\_fMultiMonInitDone = FALSE;}
\DoxyCodeLine{164 BOOL     g\_fMultimonPlatformNT = FALSE;}
\DoxyCodeLine{165 }
\DoxyCodeLine{166 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 BOOL IsPlatformNT()}
\DoxyCodeLine{169 \{ }
\DoxyCodeLine{170     OSVERSIONINFOA osvi = \{0\};}
\DoxyCodeLine{171     osvi.dwOSVersionInfoSize = \textcolor{keyword}{sizeof}(osvi);}
\DoxyCodeLine{172     GetVersionExA((OSVERSIONINFOA*)\&osvi);}
\DoxyCodeLine{173     \textcolor{keywordflow}{return} (VER\_PLATFORM\_WIN32\_NT == osvi.dwPlatformId);    }
\DoxyCodeLine{174 \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176 BOOL InitMultipleMonitorStubs(\textcolor{keywordtype}{void})}
\DoxyCodeLine{177 \{}
\DoxyCodeLine{178     HMODULE hUser32;}
\DoxyCodeLine{179     \textcolor{keywordflow}{if} (g\_fMultiMonInitDone)}
\DoxyCodeLine{180     \{}
\DoxyCodeLine{181         \textcolor{keywordflow}{return} g\_pfnGetMonitorInfo != NULL;}
\DoxyCodeLine{182     \}}
\DoxyCodeLine{183 }
\DoxyCodeLine{184     g\_fMultimonPlatformNT = IsPlatformNT();}
\DoxyCodeLine{185     hUser32 = GetModuleHandle(TEXT(\textcolor{stringliteral}{"{}USER32"{}}));}
\DoxyCodeLine{186     \textcolor{keywordflow}{if} (hUser32 \&\&}
\DoxyCodeLine{187         (*(FARPROC*)\&g\_pfnGetSystemMetrics    = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}GetSystemMetrics"{}})) != NULL \&\&}
\DoxyCodeLine{188         (*(FARPROC*)\&g\_pfnMonitorFromWindow   = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}MonitorFromWindow"{}})) != NULL \&\&}
\DoxyCodeLine{189         (*(FARPROC*)\&g\_pfnMonitorFromRect     = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}MonitorFromRect"{}})) != NULL \&\&}
\DoxyCodeLine{190         (*(FARPROC*)\&g\_pfnMonitorFromPoint    = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}MonitorFromPoint"{}})) != NULL \&\&}
\DoxyCodeLine{191         (*(FARPROC*)\&g\_pfnEnumDisplayMonitors = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}EnumDisplayMonitors"{}})) != NULL \&\&}
\DoxyCodeLine{192 \#ifdef UNICODE}
\DoxyCodeLine{193         (*(FARPROC*)\&g\_pfnEnumDisplayDevices  = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}EnumDisplayDevicesW"{}})) != NULL \&\&}
\DoxyCodeLine{194         (*(FARPROC*)\&g\_pfnGetMonitorInfo      = g\_fMultimonPlatformNT ? GetProcAddress(hUser32,\textcolor{stringliteral}{"{}GetMonitorInfoW"{}}) : }
\DoxyCodeLine{195                                                 GetProcAddress(hUser32,\textcolor{stringliteral}{"{}GetMonitorInfoA"{}})) != NULL}
\DoxyCodeLine{196 \#\textcolor{keywordflow}{else}}
\DoxyCodeLine{197         (*(FARPROC*)\&g\_pfnGetMonitorInfo      = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}GetMonitorInfoA"{}})) != NULL \&\&}
\DoxyCodeLine{198         (*(FARPROC*)\&g\_pfnEnumDisplayDevices  = GetProcAddress(hUser32,\textcolor{stringliteral}{"{}EnumDisplayDevicesA"{}})) != NULL}
\DoxyCodeLine{199 \#endif}
\DoxyCodeLine{200     ) \{}
\DoxyCodeLine{201         g\_fMultiMonInitDone = TRUE;}
\DoxyCodeLine{202         \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{203     \}}
\DoxyCodeLine{204     \textcolor{keywordflow}{else}}
\DoxyCodeLine{205     \{}
\DoxyCodeLine{206         g\_pfnGetSystemMetrics    = NULL;}
\DoxyCodeLine{207         g\_pfnMonitorFromWindow   = NULL;}
\DoxyCodeLine{208         g\_pfnMonitorFromRect     = NULL;}
\DoxyCodeLine{209         g\_pfnMonitorFromPoint    = NULL;}
\DoxyCodeLine{210         g\_pfnGetMonitorInfo      = NULL;}
\DoxyCodeLine{211         g\_pfnEnumDisplayMonitors = NULL;}
\DoxyCodeLine{212         g\_pfnEnumDisplayDevices  = NULL;}
\DoxyCodeLine{213 }
\DoxyCodeLine{214         g\_fMultiMonInitDone = TRUE;}
\DoxyCodeLine{215         \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217 \}}
\DoxyCodeLine{218 }
\DoxyCodeLine{219 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{220 \textcolor{comment}{//}}
\DoxyCodeLine{221 \textcolor{comment}{// fake implementations of Monitor APIs that work with the primary display}}
\DoxyCodeLine{222 \textcolor{comment}{// no special parameter validation is made since these run in client code}}
\DoxyCodeLine{223 \textcolor{comment}{//}}
\DoxyCodeLine{224 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{225 }
\DoxyCodeLine{226 \textcolor{keywordtype}{int} WINAPI}
\DoxyCodeLine{227 xGetSystemMetrics(\textcolor{keywordtype}{int} nIndex)}
\DoxyCodeLine{228 \{}
\DoxyCodeLine{229     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs())}
\DoxyCodeLine{230         \textcolor{keywordflow}{return} g\_pfnGetSystemMetrics(nIndex);}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \textcolor{keywordflow}{switch} (nIndex)}
\DoxyCodeLine{233     \{}
\DoxyCodeLine{234     \textcolor{keywordflow}{case} SM\_CMONITORS:}
\DoxyCodeLine{235     \textcolor{keywordflow}{case} SM\_SAMEDISPLAYFORMAT:}
\DoxyCodeLine{236         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{237 }
\DoxyCodeLine{238     \textcolor{keywordflow}{case} SM\_XVIRTUALSCREEN:}
\DoxyCodeLine{239     \textcolor{keywordflow}{case} SM\_YVIRTUALSCREEN:}
\DoxyCodeLine{240         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{241 }
\DoxyCodeLine{242     \textcolor{keywordflow}{case} SM\_CXVIRTUALSCREEN:}
\DoxyCodeLine{243         nIndex = SM\_CXSCREEN;}
\DoxyCodeLine{244         \textcolor{keywordflow}{break};}
\DoxyCodeLine{245 }
\DoxyCodeLine{246     \textcolor{keywordflow}{case} SM\_CYVIRTUALSCREEN:}
\DoxyCodeLine{247         nIndex = SM\_CYSCREEN;}
\DoxyCodeLine{248         \textcolor{keywordflow}{break};}
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251     \textcolor{keywordflow}{return} GetSystemMetrics(nIndex);}
\DoxyCodeLine{252 \}}
\DoxyCodeLine{253 }
\DoxyCodeLine{254 \textcolor{preprocessor}{\#define xPRIMARY\_MONITOR ((HMONITOR)0x12340042)}}
\DoxyCodeLine{255 }
\DoxyCodeLine{256 HMONITOR WINAPI}
\DoxyCodeLine{257 xMonitorFromPoint(POINT ptScreenCoords, DWORD dwFlags)}
\DoxyCodeLine{258 \{}
\DoxyCodeLine{259     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs())}
\DoxyCodeLine{260         \textcolor{keywordflow}{return} g\_pfnMonitorFromPoint(ptScreenCoords, dwFlags);}
\DoxyCodeLine{261 }
\DoxyCodeLine{262     \textcolor{keywordflow}{if} ((dwFlags \& (MONITOR\_DEFAULTTOPRIMARY | MONITOR\_DEFAULTTONEAREST)) ||}
\DoxyCodeLine{263         ((ptScreenCoords.x >= 0) \&\&}
\DoxyCodeLine{264         (ptScreenCoords.x < GetSystemMetrics(SM\_CXSCREEN)) \&\&}
\DoxyCodeLine{265         (ptScreenCoords.y >= 0) \&\&}
\DoxyCodeLine{266         (ptScreenCoords.y < GetSystemMetrics(SM\_CYSCREEN))))}
\DoxyCodeLine{267     \{}
\DoxyCodeLine{268         \textcolor{keywordflow}{return} xPRIMARY\_MONITOR;}
\DoxyCodeLine{269     \}}
\DoxyCodeLine{270 }
\DoxyCodeLine{271     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{272 \}}
\DoxyCodeLine{273 }
\DoxyCodeLine{274 HMONITOR WINAPI}
\DoxyCodeLine{275 xMonitorFromRect(LPCRECT lprcScreenCoords, DWORD dwFlags)}
\DoxyCodeLine{276 \{}
\DoxyCodeLine{277     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs())}
\DoxyCodeLine{278         \textcolor{keywordflow}{return} g\_pfnMonitorFromRect(lprcScreenCoords, dwFlags);}
\DoxyCodeLine{279 }
\DoxyCodeLine{280     \textcolor{keywordflow}{if} ((dwFlags \& (MONITOR\_DEFAULTTOPRIMARY | MONITOR\_DEFAULTTONEAREST)) ||}
\DoxyCodeLine{281         ((lprcScreenCoords-\/>right > 0) \&\&}
\DoxyCodeLine{282         (lprcScreenCoords-\/>bottom > 0) \&\&}
\DoxyCodeLine{283         (lprcScreenCoords-\/>left < GetSystemMetrics(SM\_CXSCREEN)) \&\&}
\DoxyCodeLine{284         (lprcScreenCoords-\/>top < GetSystemMetrics(SM\_CYSCREEN))))}
\DoxyCodeLine{285     \{}
\DoxyCodeLine{286         \textcolor{keywordflow}{return} xPRIMARY\_MONITOR;}
\DoxyCodeLine{287     \}}
\DoxyCodeLine{288 }
\DoxyCodeLine{289     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{290 \}}
\DoxyCodeLine{291 }
\DoxyCodeLine{292 HMONITOR WINAPI}
\DoxyCodeLine{293 xMonitorFromWindow(HWND hWnd, DWORD dwFlags)}
\DoxyCodeLine{294 \{}
\DoxyCodeLine{295     WINDOWPLACEMENT wp;}
\DoxyCodeLine{296 }
\DoxyCodeLine{297     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs())}
\DoxyCodeLine{298         \textcolor{keywordflow}{return} g\_pfnMonitorFromWindow(hWnd, dwFlags);}
\DoxyCodeLine{299 }
\DoxyCodeLine{300     \textcolor{keywordflow}{if} (dwFlags \& (MONITOR\_DEFAULTTOPRIMARY | MONITOR\_DEFAULTTONEAREST))}
\DoxyCodeLine{301         \textcolor{keywordflow}{return} xPRIMARY\_MONITOR;}
\DoxyCodeLine{302 }
\DoxyCodeLine{303     \textcolor{keywordflow}{if} (IsIconic(hWnd) ?}
\DoxyCodeLine{304             GetWindowPlacement(hWnd, \&wp) :}
\DoxyCodeLine{305             GetWindowRect(hWnd, \&wp.rcNormalPosition)) \{}
\DoxyCodeLine{306 }
\DoxyCodeLine{307         \textcolor{keywordflow}{return} xMonitorFromRect(\&wp.rcNormalPosition, dwFlags);}
\DoxyCodeLine{308     \}}
\DoxyCodeLine{309 }
\DoxyCodeLine{310     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{311 \}}
\DoxyCodeLine{312 }
\DoxyCodeLine{313 BOOL WINAPI}
\DoxyCodeLine{314 xGetMonitorInfo(HMONITOR hMonitor, \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{LPMONITORINFO}} lpMonitorInfo)}
\DoxyCodeLine{315 \{}
\DoxyCodeLine{316     RECT rcWork;}
\DoxyCodeLine{317 }
\DoxyCodeLine{318     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs())}
\DoxyCodeLine{319     \{}
\DoxyCodeLine{320         BOOL f = g\_pfnGetMonitorInfo(hMonitor, lpMonitorInfo);}
\DoxyCodeLine{321 \textcolor{preprocessor}{\#ifdef UNICODE}}
\DoxyCodeLine{322         \textcolor{keywordflow}{if} (f \&\& !g\_fMultimonPlatformNT \&\& (lpMonitorInfo-\/>cbSize >= \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}})))}
\DoxyCodeLine{323         \{ }
\DoxyCodeLine{324             MultiByteToWideChar(CP\_ACP, 0,}
\DoxyCodeLine{325                 (LPSTR)((\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}*)lpMonitorInfo)-\/>szDevice, -\/1,}
\DoxyCodeLine{326                 ((\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}*)lpMonitorInfo)-\/>szDevice, (\textcolor{keyword}{sizeof}(((\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}*)lpMonitorInfo)-\/>szDevice)/\textcolor{keyword}{sizeof}(TCHAR)));}
\DoxyCodeLine{327         \}}
\DoxyCodeLine{328 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{329         \textcolor{keywordflow}{return} f;}
\DoxyCodeLine{330     \}}
\DoxyCodeLine{331 }
\DoxyCodeLine{332     \textcolor{keywordflow}{if} ((hMonitor == xPRIMARY\_MONITOR) \&\&}
\DoxyCodeLine{333         lpMonitorInfo \&\&}
\DoxyCodeLine{334         (lpMonitorInfo-\/>cbSize >= \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{MONITORINFO}})) \&\&}
\DoxyCodeLine{335         SystemParametersInfoA(SPI\_GETWORKAREA, 0, \&rcWork, 0))}
\DoxyCodeLine{336     \{}
\DoxyCodeLine{337         lpMonitorInfo-\/>rcMonitor.left = 0;}
\DoxyCodeLine{338         lpMonitorInfo-\/>rcMonitor.top  = 0;}
\DoxyCodeLine{339         lpMonitorInfo-\/>rcMonitor.right  = GetSystemMetrics(SM\_CXSCREEN);}
\DoxyCodeLine{340         lpMonitorInfo-\/>rcMonitor.bottom = GetSystemMetrics(SM\_CYSCREEN);}
\DoxyCodeLine{341         lpMonitorInfo-\/>rcWork = rcWork;}
\DoxyCodeLine{342         lpMonitorInfo-\/>dwFlags = MONITORINFOF\_PRIMARY;}
\DoxyCodeLine{343 }
\DoxyCodeLine{344         \textcolor{keywordflow}{if} (lpMonitorInfo-\/>cbSize >= \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}))}
\DoxyCodeLine{345         \{}
\DoxyCodeLine{346 \textcolor{preprocessor}{\#ifdef UNICODE}}
\DoxyCodeLine{347             MultiByteToWideChar(CP\_ACP, 0, \textcolor{stringliteral}{"{}DISPLAY"{}}, -\/1, ((\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}*)lpMonitorInfo)-\/>szDevice, (\textcolor{keyword}{sizeof}(((\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}*)lpMonitorInfo)-\/>szDevice)/\textcolor{keyword}{sizeof}(TCHAR)));}
\DoxyCodeLine{348 \textcolor{preprocessor}{\#else }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{349             lstrcpy(((\mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o_e_x_a}{MONITORINFOEX}}*)lpMonitorInfo)-\/>szDevice, TEXT(\textcolor{stringliteral}{"{}DISPLAY"{}}));}
\DoxyCodeLine{350 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{351         \}}
\DoxyCodeLine{352 }
\DoxyCodeLine{353         \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{354     \}}
\DoxyCodeLine{355 }
\DoxyCodeLine{356     \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{357 \}}
\DoxyCodeLine{358 }
\DoxyCodeLine{359 BOOL WINAPI}
\DoxyCodeLine{360 xEnumDisplayMonitors(}
\DoxyCodeLine{361         HDC             hdcOptionalForPainting,}
\DoxyCodeLine{362         LPCRECT         lprcEnumMonitorsThatIntersect,}
\DoxyCodeLine{363         MONITORENUMPROC lpfnEnumProc,}
\DoxyCodeLine{364         LPARAM          dwData)}
\DoxyCodeLine{365 \{}
\DoxyCodeLine{366     RECT rcLimit;}
\DoxyCodeLine{367 }
\DoxyCodeLine{368     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs()) \{}
\DoxyCodeLine{369         \textcolor{keywordflow}{return} g\_pfnEnumDisplayMonitors(}
\DoxyCodeLine{370                 hdcOptionalForPainting,}
\DoxyCodeLine{371                 lprcEnumMonitorsThatIntersect,}
\DoxyCodeLine{372                 lpfnEnumProc,}
\DoxyCodeLine{373                 dwData);}
\DoxyCodeLine{374     \}}
\DoxyCodeLine{375 }
\DoxyCodeLine{376     \textcolor{keywordflow}{if} (!lpfnEnumProc)}
\DoxyCodeLine{377         \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{378 }
\DoxyCodeLine{379     rcLimit.left   = 0;}
\DoxyCodeLine{380     rcLimit.top    = 0;}
\DoxyCodeLine{381     rcLimit.right  = GetSystemMetrics(SM\_CXSCREEN);}
\DoxyCodeLine{382     rcLimit.bottom = GetSystemMetrics(SM\_CYSCREEN);}
\DoxyCodeLine{383 }
\DoxyCodeLine{384     \textcolor{keywordflow}{if} (hdcOptionalForPainting)}
\DoxyCodeLine{385     \{}
\DoxyCodeLine{386         RECT    rcClip;}
\DoxyCodeLine{387         POINT   ptOrg;}
\DoxyCodeLine{388 }
\DoxyCodeLine{389         \textcolor{keywordflow}{switch} (GetClipBox(hdcOptionalForPainting, \&rcClip))}
\DoxyCodeLine{390         \{}
\DoxyCodeLine{391         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{392             \textcolor{keywordflow}{if} (!GetDCOrgEx(hdcOptionalForPainting, \&ptOrg))}
\DoxyCodeLine{393                 \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{394 }
\DoxyCodeLine{395             OffsetRect(\&rcLimit, -\/ptOrg.x, -\/ptOrg.y);}
\DoxyCodeLine{396             \textcolor{keywordflow}{if} (IntersectRect(\&rcLimit, \&rcLimit, \&rcClip) \&\&}
\DoxyCodeLine{397                 (!lprcEnumMonitorsThatIntersect ||}
\DoxyCodeLine{398                      IntersectRect(\&rcLimit, \&rcLimit, lprcEnumMonitorsThatIntersect))) \{}
\DoxyCodeLine{399 }
\DoxyCodeLine{400                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{401             \}}
\DoxyCodeLine{402             \textcolor{comment}{//fall thru}}
\DoxyCodeLine{403         \textcolor{keywordflow}{case} NULLREGION:}
\DoxyCodeLine{404              \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{405         \textcolor{keywordflow}{case} ERROR:}
\DoxyCodeLine{406              \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{407         \}}
\DoxyCodeLine{408     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{409         \textcolor{keywordflow}{if} (    lprcEnumMonitorsThatIntersect \&\&}
\DoxyCodeLine{410                 !IntersectRect(\&rcLimit, \&rcLimit, lprcEnumMonitorsThatIntersect)) \{}
\DoxyCodeLine{411 }
\DoxyCodeLine{412             \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{413         \}}
\DoxyCodeLine{414     \}}
\DoxyCodeLine{415 }
\DoxyCodeLine{416     \textcolor{keywordflow}{return} lpfnEnumProc(}
\DoxyCodeLine{417             xPRIMARY\_MONITOR,}
\DoxyCodeLine{418             hdcOptionalForPainting,}
\DoxyCodeLine{419             \&rcLimit,}
\DoxyCodeLine{420             dwData);}
\DoxyCodeLine{421 \}}
\DoxyCodeLine{422 }
\DoxyCodeLine{423 BOOL WINAPI}
\DoxyCodeLine{424 xEnumDisplayDevices(}
\DoxyCodeLine{425     PVOID Unused,}
\DoxyCodeLine{426     DWORD iDevNum,}
\DoxyCodeLine{427     \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICE}} lpDisplayDevice,}
\DoxyCodeLine{428     DWORD dwFlags)}
\DoxyCodeLine{429 \{}
\DoxyCodeLine{430     \textcolor{keywordflow}{if} (InitMultipleMonitorStubs())}
\DoxyCodeLine{431         \textcolor{keywordflow}{return} g\_pfnEnumDisplayDevices(Unused, iDevNum, lpDisplayDevice, dwFlags);}
\DoxyCodeLine{432 }
\DoxyCodeLine{433     \textcolor{keywordflow}{if} (Unused != NULL)}
\DoxyCodeLine{434         \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{435 }
\DoxyCodeLine{436     \textcolor{keywordflow}{if} (iDevNum != 0)}
\DoxyCodeLine{437         \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{438 }
\DoxyCodeLine{439     \textcolor{keywordflow}{if} (lpDisplayDevice == NULL || lpDisplayDevice-\/>cb < \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{DISPLAY\_DEVICE}}))}
\DoxyCodeLine{440         \textcolor{keywordflow}{return} FALSE;}
\DoxyCodeLine{441 }
\DoxyCodeLine{442 \textcolor{preprocessor}{\#ifdef UNICODE}}
\DoxyCodeLine{443     MultiByteToWideChar(CP\_ACP, 0, \textcolor{stringliteral}{"{}DISPLAY"{}}, -\/1, lpDisplayDevice-\/>DeviceName, (\textcolor{keyword}{sizeof}(lpDisplayDevice-\/>DeviceName)/\textcolor{keyword}{sizeof}(TCHAR)));}
\DoxyCodeLine{444     MultiByteToWideChar(CP\_ACP, 0, \textcolor{stringliteral}{"{}DISPLAY"{}}, -\/1, lpDisplayDevice-\/>DeviceString, (\textcolor{keyword}{sizeof}(lpDisplayDevice-\/>DeviceName)/\textcolor{keyword}{sizeof}(TCHAR)));}
\DoxyCodeLine{445 \textcolor{preprocessor}{\#else }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{446     lstrcpy((LPTSTR)lpDisplayDevice-\/>DeviceName,   TEXT(\textcolor{stringliteral}{"{}DISPLAY"{}}));}
\DoxyCodeLine{447     lstrcpy((LPTSTR)lpDisplayDevice-\/>DeviceString, TEXT(\textcolor{stringliteral}{"{}DISPLAY"{}}));}
\DoxyCodeLine{448 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// UNICODE}}
\DoxyCodeLine{449 }
\DoxyCodeLine{450     lpDisplayDevice-\/>StateFlags = DISPLAY\_DEVICE\_ATTACHED\_TO\_DESKTOP | DISPLAY\_DEVICE\_PRIMARY\_DEVICE;}
\DoxyCodeLine{451 }
\DoxyCodeLine{452     \textcolor{keywordflow}{return} TRUE;}
\DoxyCodeLine{453 \}}
\DoxyCodeLine{454 }
\DoxyCodeLine{455 \textcolor{preprocessor}{\#undef xPRIMARY\_MONITOR}}
\DoxyCodeLine{456 \textcolor{preprocessor}{\#undef COMPILE\_MULTIMON\_STUBS}}
\DoxyCodeLine{457 }
\DoxyCodeLine{458 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// COMPILE\_MULTIMON\_STUBS}}
\DoxyCodeLine{459 }
\DoxyCodeLine{460 \textcolor{keyword}{extern} \textcolor{keywordtype}{int}  WINAPI xGetSystemMetrics(\textcolor{keywordtype}{int});}
\DoxyCodeLine{461 \textcolor{keyword}{extern} HMONITOR WINAPI xMonitorFromWindow(HWND, DWORD);}
\DoxyCodeLine{462 \textcolor{keyword}{extern} HMONITOR WINAPI xMonitorFromRect(LPCRECT, DWORD);}
\DoxyCodeLine{463 \textcolor{keyword}{extern} HMONITOR WINAPI xMonitorFromPoint(POINT, DWORD);}
\DoxyCodeLine{464 \textcolor{keyword}{extern} BOOL WINAPI xGetMonitorInfo(HMONITOR, \mbox{\hyperlink{structtag_m_o_n_i_t_o_r_i_n_f_o}{LPMONITORINFO}});}
\DoxyCodeLine{465 \textcolor{keyword}{extern} BOOL WINAPI xEnumDisplayMonitors(HDC, LPCRECT, MONITORENUMPROC, LPARAM);}
\DoxyCodeLine{466 \textcolor{keyword}{extern} BOOL WINAPI xEnumDisplayDevices(PVOID, DWORD, \mbox{\hyperlink{struct___d_i_s_p_l_a_y___d_e_v_i_c_e_a}{PDISPLAY\_DEVICE}}, DWORD);}
\DoxyCodeLine{467 }
\DoxyCodeLine{468 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// COMPILE\_MULTIMON\_STUBS}}
\DoxyCodeLine{469 }
\DoxyCodeLine{470 \textcolor{comment}{//}}
\DoxyCodeLine{471 \textcolor{comment}{// build defines that replace the regular APIs with our versions}}
\DoxyCodeLine{472 \textcolor{comment}{//}}
\DoxyCodeLine{473 \textcolor{preprocessor}{\#define GetSystemMetrics    xGetSystemMetrics}}
\DoxyCodeLine{474 \textcolor{preprocessor}{\#define MonitorFromWindow   xMonitorFromWindow}}
\DoxyCodeLine{475 \textcolor{preprocessor}{\#define MonitorFromRect     xMonitorFromRect}}
\DoxyCodeLine{476 \textcolor{preprocessor}{\#define MonitorFromPoint    xMonitorFromPoint}}
\DoxyCodeLine{477 \textcolor{preprocessor}{\#define GetMonitorInfo      xGetMonitorInfo}}
\DoxyCodeLine{478 \textcolor{preprocessor}{\#define EnumDisplayMonitors xEnumDisplayMonitors}}
\DoxyCodeLine{479 \textcolor{preprocessor}{\#define EnumDisplayDevices  xEnumDisplayDevices}}
\DoxyCodeLine{480 }
\DoxyCodeLine{481 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{482 \}}
\DoxyCodeLine{483 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_cplusplus}}
\DoxyCodeLine{484 }

\end{DoxyCode}
